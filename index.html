<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMS Shop | USDT TRC20</title>
    <style>
        /* –°—Ç–∏–ª–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–¥–∞ - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é CSS —Å–µ–∫—Ü–∏—é */
        :root {
            --primary: #6c5ce7;
            --primary-dark: #4834d4;
            --secondary: #00b894;
            --danger: #e74c3c;
            --warning: #f39c12;
            --dark: #2d3436;
            --light: #f5f6fa;
            --gray: #dfe6e9;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }
        
        /* ... (–ü–û–õ–ù–´–ô CSS –ò–ó –ü–†–ï–î–´–î–£–©–ï–ì–û –ö–û–î–ê, –í–°–Å —á—Ç–æ –≤ —Ç–µ–≥–µ <style>) ... */
        
        .hidden {
            display: none !important;
        }
    </style>
    <!-- QR Code Library -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>
<body>
    <div class="app-container" id="app">
        <!-- Header -->
        <div class="header">
            <h1>SMS Shop</h1>
            <div class="user-info">
                <span>üëë ID: <span id="user-id">8155919358</span></span>
                <span>üíé USDT TRC20</span>
            </div>
        </div>
        
        <!-- Balance Card -->
        <div class="balance-card">
            <p>–í–∞—à –±–∞–ª–∞–Ω—Å</p>
            <div class="balance-amount" id="balance">0 SMS</div>
            <small id="balance-usdt">~ 0 USDT</small>
        </div>
        
        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="tab active" data-tab="shop">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
            <button class="tab" data-tab="payments">üí≥ –û–ø–ª–∞—Ç–∞</button>
            <button class="tab" data-tab="profile">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
        </div>
        
        <!-- Main Content -->
        <div class="content">
            <!-- Shop Section -->
            <div class="section active" id="shop-section">
                <h3 style="margin-bottom: 20px; color: var(--primary);">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç SMS:</h3>
                <div class="shop-items" id="shop-items">
                    <div class="shop-item" onclick="selectPackage(30, 300)">
                        <div class="item-header">
                            <div class="sms-count">30 SMS</div>
                            <div class="price">300 RUB</div>
                        </div>
                        <div class="usdt-price" id="price-30">‚âà 3.33 USDT</div>
                        <button class="buy-btn">üí≥ –ö—É–ø–∏—Ç—å –∑–∞ 3.33 USDT</button>
                    </div>
                    
                    <div class="shop-item" onclick="selectPackage(100, 800)">
                        <div class="item-header">
                            <div class="sms-count">100 SMS</div>
                            <div class="price">800 RUB</div>
                        </div>
                        <div class="usdt-price" id="price-100">‚âà 8.89 USDT</div>
                        <button class="buy-btn">üí≥ –ö—É–ø–∏—Ç—å –∑–∞ 8.89 USDT</button>
                    </div>
                    
                    <div class="shop-item" onclick="selectPackage(200, 1500)">
                        <div class="item-header">
                            <div class="sms-count">200 SMS</div>
                            <div class="price">1500 RUB</div>
                        </div>
                        <div class="usdt-price" id="price-200">‚âà 16.67 USDT</div>
                        <button class="buy-btn">üí≥ –ö—É–ø–∏—Ç—å –∑–∞ 16.67 USDT</button>
                    </div>
                    
                    <div class="shop-item" onclick="selectPackage(500, 3500)">
                        <div class="item-header">
                            <div class="sms-count">500 SMS</div>
                            <div class="price">3500 RUB</div>
                        </div>
                        <div class="usdt-price" id="price-500">‚âà 38.89 USDT</div>
                        <button class="buy-btn">üí≥ –ö—É–ø–∏—Ç—å –∑–∞ 38.89 USDT</button>
                    </div>
                </div>
            </div>
            
            <!-- Payments Section -->
            <div class="section" id="payments-section">
                <h3 style="margin-bottom: 20px; color: var(--primary);">–û–ø–ª–∞—Ç–∞ USDT</h3>
                
                <div class="payment-method" id="payment-method">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø–ª–∞—Ç—ã...</p>
                    </div>
                </div>
                
                <div class="verify-section" style="margin-top: 30px;">
                    <h4>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É</h4>
                    <input type="text" 
                           class="verify-input" 
                           id="check-tx-hash" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ —Ö—ç—à —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏">
                    <button class="verify-btn" onclick="checkPaymentManually()">
                        üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                    </button>
                    <div id="check-status" class="status-message" style="margin-top: 15px;"></div>
                </div>
            </div>
            
            <!-- Profile Section -->
            <div class="section" id="profile-section">
                <div class="profile-info">
                    <h3 style="margin-bottom: 15px;">üë§ –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å</h3>
                    <div class="info-row">
                        <span>ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span>
                        <strong id="profile-id">8155919358</strong>
                    </div>
                    <div class="info-row">
                        <span>–ë–∞–ª–∞–Ω—Å SMS:</span>
                        <strong id="profile-balance">0</strong>
                    </div>
                    <div class="info-row">
                        <span>–í—Å–µ–≥–æ –ø–æ–∫—É–ø–æ–∫:</span>
                        <strong id="total-purchases">0</strong>
                    </div>
                    <div class="info-row">
                        <span>–°—Ç–∞—Ç—É—Å:</span>
                        <strong style="color: var(--primary);" id="admin-status">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</strong>
                    </div>
                </div>
                
                <!-- Admin Panel -->
                <div class="admin-panel" id="admin-panel">
                    <h3 style="color: var(--primary); margin-bottom: 15px;">‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h3>
                    <div style="margin-bottom: 15px;">
                        <button class="admin-btn" onclick="addSMSManual()">‚ûï –î–æ–±–∞–≤–∏—Ç—å SMS</button>
                        <button class="admin-btn" onclick="viewAllPayments()">üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞—Ç–µ–∂–µ–π</button>
                        <button class="admin-btn" onclick="clearHistory()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p>üíé –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ USDT (TRC20) ‚Ä¢ –ë–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞ ‚Ä¢ GitHub Pages</p>
            <p style="margin-top: 5px; font-size: 10px;">TRC20: THzWYUCCq53zbxZCcbeUXppLz7MNySa5B1</p>
        </div>
    </div>
    
    <!-- Payment Modal -->
    <div class="modal-overlay" id="payment-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 style="margin: 0;" id="modal-title">–û–ø–ª–∞—Ç–∞ USDT</h3>
                <button class="close-modal" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Payment content will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- Admin Modal -->
    <div class="modal-overlay" id="admin-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 style="margin: 0;">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h3>
                <button class="close-modal" onclick="closeAdminModal()">√ó</button>
            </div>
            <div class="modal-body" id="admin-modal-content">
                <!-- Admin content -->
            </div>
        </div>
    </div>

    <script>
        // ==================== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ====================
        const CONFIG = {
            ADMIN_ID: '8155919358',
            ADMIN_IP: '85.206.171.26',
            TRC20_ADDRESS: 'THzWYUCCq53zbxZCcbeUXppLz7MNySa5B1',
            USDT_CONTRACT: 'TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t',
            USDT_RATE: 90, // 1 USDT = 90 RUB (–±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è)
            SMS_PACKAGES: [
                { sms: 30, rub: 300 },
                { sms: 100, rub: 800 },
                { sms: 200, rub: 1500 },
                { sms: 500, rub: 3500 }
            ]
        };

        // ==================== –•–†–ê–ù–ò–õ–ò–©–ï ====================
        let userData = {
            id: CONFIG.ADMIN_ID,
            balance: 0,
            isAdmin: true,
            purchases: 0,
            history: []
        };

        let currentPayment = null;

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        document.addEventListener('DOMContentLoaded', function() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage
            const saved = localStorage.getItem('sms_shop_data');
            if (saved) {
                try {
                    const parsed = JSON.parse(saved);
                    userData = { ...userData, ...parsed };
                } catch (e) {
                    console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö');
                }
            }
            
            updateUI();
            setupNavigation();
            updatePrices();
            loadPaymentMethod();
        });

        // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ====================
        function updateUI() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
            document.getElementById('balance').textContent = userData.balance + ' SMS';
            document.getElementById('balance-usdt').textContent = '~ ' + (userData.balance / 10).toFixed(2) + ' USDT';
            document.getElementById('profile-balance').textContent = userData.balance;
            document.getElementById('total-purchases').textContent = userData.purchases;
            document.getElementById('profile-id').textContent = userData.id;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
            if (userData.isAdmin) {
                document.getElementById('admin-panel').style.display = 'block';
                document.getElementById('admin-status').textContent = '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä';
            }
        }

        // ==================== –ù–ê–í–ò–ì–ê–¶–ò–Ø ====================
        function setupNavigation() {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª
                    document.querySelectorAll('.section').forEach(section => {
                        section.classList.remove('active');
                    });
                    document.getElementById(tabId + '-section').classList.add('active');
                });
            });
        }

        // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –¶–ï–ù ====================
        async function updatePrices() {
            try {
                // –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å USDT/RUB
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=rub');
                const data = await response.json();
                if (data.tether && data.tether.rub) {
                    CONFIG.USDT_RATE = data.tether.rub;
                }
            } catch (error) {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫—É—Ä—Å
                CONFIG.USDT_RATE = 90;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–Ω—ã –≤ USDT
            CONFIG.SMS_PACKAGES.forEach(pkg => {
                const usdtPrice = (pkg.rub / CONFIG.USDT_RATE).toFixed(2);
                const element = document.getElementById(`price-${pkg.sms}`);
                if (element) {
                    element.textContent = `‚âà ${usdtPrice} USDT`;
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
                    const btn = element.closest('.shop-item').querySelector('.buy-btn');
                    btn.textContent = `üí≥ –ö—É–ø–∏—Ç—å –∑–∞ ${usdtPrice} USDT`;
                }
            });
        }

        // ==================== –í–´–ë–û–† –ü–ê–ö–ï–¢–ê ====================
        function selectPackage(sms, rub) {
            const usdtAmount = (rub / CONFIG.USDT_RATE).toFixed(2);
            
            currentPayment = {
                id: 'PAY-' + Date.now() + '-' + Math.random().toString(36).substr(2, 6).toUpperCase(),
                sms: sms,
                rub: rub,
                usdt: usdtAmount,
                status: 'pending',
                date: new Date().toLocaleString(),
                txHash: ''
            };
            
            showPaymentModal();
        }

        // ==================== –ü–û–ö–ê–ó –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê –û–ü–õ–ê–¢–´ ====================
        function showPaymentModal() {
            document.getElementById('modal-title').textContent = `–û–ø–ª–∞—Ç–∞ ${currentPayment.sms} SMS`;
            
            document.getElementById('modal-body').innerHTML = `
                <div style="text-align: center;">
                    <div class="qr-container">
                        <div id="qr-code" style="margin: 0 auto; width: 200px; height: 200px;"></div>
                        <p style="font-size: 20px; font-weight: bold; margin: 10px 0;">
                            ${currentPayment.usdt} USDT
                        </p>
                    </div>
                    
                    <div class="address-box">
                        <strong>–ê–¥—Ä–µ—Å TRC20:</strong><br>
                        <code style="font-size: 14px;">${CONFIG.TRC20_ADDRESS}</code>
                        <br><br>
                        <strong>ID –ø–ª–∞—Ç–µ–∂–∞ (MEMO):</strong><br>
                        <code style="color: var(--primary);">${currentPayment.id}</code>
                    </div>
                    
                    <button class="copy-btn" onclick="copyPaymentDetails()" style="margin: 15px 0;">
                        üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å –∏ ID
                    </button>
                    
                    <div class="payment-info">
                        <p><strong>‚ùó –í–ê–ñ–ù–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò:</strong></p>
                        <ul>
                            <li>–°–µ—Ç—å: <strong>TRON (TRC20) –¢–û–õ–¨–ö–û</strong></li>
                            <li>–¢–æ–∫–µ–Ω: <strong>USDT –¢–û–õ–¨–ö–û</strong></li>
                            <li>–°—É–º–º–∞: <strong>${currentPayment.usdt} USDT –¢–û–ß–ù–û</strong></li>
                            <li>–í –ø–æ–ª–µ MEMO —É–∫–∞–∂–∏—Ç–µ: <code>${currentPayment.id}</code></li>
                            <li>–ö–æ–º–∏—Å—Å–∏—é —Å–µ—Ç–∏ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç–µ –≤—ã</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #e8f5e9; border-radius: 10px;">
                        <p>–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã:</p>
                        <button class="verify-btn" onclick="manualConfirmPayment()" style="background: var(--secondary);">
                            ‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª
                        </button>
                        <p style="font-size: 12px; margin-top: 10px; color: #666;">
                            –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Ö—ç—à —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–û–ø–ª–∞—Ç–∞"
                        </p>
                    </div>
                </div>
            `;
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR –∫–æ–¥
            const qrText = `tron:${CONFIG.TRC20_ADDRESS}?amount=${currentPayment.usdt}&memo=${currentPayment.id}`;
            QRCode.toCanvas(document.getElementById('qr-code'), qrText, {
                width: 200,
                height: 200,
                margin: 1
            });
            
            document.getElementById('payment-modal').classList.add('active');
        }

        // ==================== –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –î–ï–¢–ê–õ–ï–ô ====================
        function copyPaymentDetails() {
            const text = `–ê–¥—Ä–µ—Å: ${CONFIG.TRC20_ADDRESS}\n–°—É–º–º–∞: ${currentPayment.usdt} USDT\nMEMO: ${currentPayment.id}\n–°–µ—Ç—å: TRON (TRC20)`;
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–ª–∞—Ç—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!');
            });
        }

        // ==================== –†–£–ß–ù–û–ï –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï ====================
        function manualConfirmPayment() {
            if (confirm(`–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ ${currentPayment.usdt} USDT?\n\n–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–∏—Ç—Å—è –Ω–∞ ${currentPayment.sms} SMS`)) {
                // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
                userData.balance += currentPayment.sms;
                userData.purchases += 1;
                currentPayment.status = 'confirmed';
                currentPayment.txHash = 'MANUAL-' + Date.now();
                userData.history.unshift({...currentPayment});
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º
                saveData();
                updateUI();
                closeModal();
                alert(`‚úÖ –ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${currentPayment.sms} SMS!\n–ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${userData.balance} SMS`);
            }
        }

        // ==================== –ü–†–û–í–ï–†–ö–ê –ü–õ–ê–¢–ï–ñ–ê –í–†–£–ß–ù–£–Æ ====================
        async function checkPaymentManually() {
            const txHash = document.getElementById('check-tx-hash').value.trim();
            const statusDiv = document.getElementById('check-status');
            
            if (!txHash) {
                statusDiv.className = 'status-message error';
                statusDiv.innerHTML = '‚ùå –í–≤–µ–¥–∏—Ç–µ —Ö—ç—à —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏';
                statusDiv.style.display = 'block';
                return;
            }
            
            statusDiv.className = 'status-message loading';
            statusDiv.innerHTML = 'üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —á–µ—Ä–µ–∑ TronGrid...';
            statusDiv.style.display = 'block';
            
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π API TronGrid
                const response = await fetch(`https://api.trongrid.io/v1/transactions/${txHash}`);
                const data = await response.json();
                
                if (!data.txID) {
                    throw new Error('–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
                if (data.ret && data.ret[0].contractRet === 'SUCCESS') {
                    statusDiv.className = 'status-message success';
                    statusDiv.innerHTML = `
                        ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!<br>
                        –•—ç—à: ${txHash.substring(0, 20)}...<br>
                        <small>–°–æ–æ–±—â–∏—Ç–µ —Ö—ç—à –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è –∑–∞—á–∏—Å–ª–µ–Ω–∏—è SMS</small>
                    `;
                } else {
                    statusDiv.className = 'status-message error';
                    statusDiv.innerHTML = '‚ùå –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞';
                }
                
            } catch (error) {
                statusDiv.className = 'status-message error';
                statusDiv.innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ö—ç—à —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏';
            }
        }

        // ==================== –ó–ê–ì–†–£–ó–ö–ê –ú–ï–¢–û–î–ê –û–ü–õ–ê–¢–´ ====================
        function loadPaymentMethod() {
            document.getElementById('payment-method').innerHTML = `
                <div style="background: var(--light); padding: 20px; border-radius: 12px;">
                    <h4>üíé –û–ø–ª–∞—Ç–∞ USDT TRC20</h4>
                    <p>–í–∞—à TRC20 –∞–¥—Ä–µ—Å –¥–ª—è –æ–ø–ª–∞—Ç—ã:</p>
                    <div class="address-box" style="font-size: 16px;">
                        ${CONFIG.TRC20_ADDRESS}
                    </div>
                    <button class="copy-btn" onclick="copyToClipboard('${CONFIG.TRC20_ADDRESS}')" 
                            style="margin-top: 10px;">
                        üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å
                    </button>
                    
                    <div class="payment-info" style="margin-top: 20px;">
                        <p><strong>–ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç SMS –≤ –º–∞–≥–∞–∑–∏–Ω–µ</li>
                            <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∞–¥—Ä–µ—Å –∏ —Å—É–º–º—É USDT</li>
                            <li>–û—Ç–ø—Ä–∞–≤—å—Ç–µ USDT —Å –±–∏—Ä–∂–∏/–∫–æ—à–µ–ª—å–∫–∞</li>
                            <li>–í –ø–æ–ª–µ MEMO —É–∫–∞–∂–∏—Ç–µ ID –ø–ª–∞—Ç–µ–∂–∞</li>
                            <li>–°–æ–æ–±—â–∏—Ç–µ —Ö—ç—à —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</li>
                        </ol>
                    </div>
                </div>
            `;
        }

        // ==================== –ê–î–ú–ò–ù –§–£–ù–ö–¶–ò–ò ====================
        function addSMSManual() {
            const amount = prompt('–°–∫–æ–ª—å–∫–æ SMS –¥–æ–±–∞–≤–∏—Ç—å?', '100');
            if (amount && !isNaN(amount)) {
                userData.balance += parseInt(amount);
                userData.history.unshift({
                    id: 'ADMIN-' + Date.now(),
                    sms: parseInt(amount),
                    usdt: 0,
                    status: 'admin',
                    date: new Date().toLocaleString(),
                    note: '–î–æ–±–∞–≤–ª–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º'
                });
                saveData();
                updateUI();
                alert(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ ${amount} SMS`);
            }
        }

        function viewAllPayments() {
            let content = '<h4>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h4>';
            
            if (userData.history.length === 0) {
                content += '<p>–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</p>';
            } else {
                content += '<div style="max-height: 300px; overflow-y: auto;">';
                userData.history.forEach(payment => {
                    content += `
                        <div style="padding: 10px; border-bottom: 1px solid var(--gray);">
                            <div><strong>${payment.sms} SMS</strong> - ${payment.usdt} USDT</div>
                            <div style="font-size: 12px; color: #666;">
                                ${payment.date} ‚Ä¢ ${payment.status}
                                ${payment.txHash ? `<br>TX: ${payment.txHash.substring(0, 20)}...` : ''}
                            </div>
                        </div>
                    `;
                });
                content += '</div>';
            }
            
            document.getElementById('admin-modal-content').innerHTML = content;
            document.getElementById('admin-modal').classList.add('active');
        }

        function clearHistory() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é?')) {
                userData.history = [];
                saveData();
                alert('–ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞');
                closeAdminModal();
            }
        }

        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ: ' + text);
            });
        }

        function closeModal() {
            document.getElementById('payment-modal').classList.remove('active');
        }

        function closeAdminModal() {
            document.getElementById('admin-modal').classList.remove('active');
        }

        function saveData() {
            localStorage.setItem('sms_shop_data', JSON.stringify(userData));
        }
    </script>
</body>
</html>
